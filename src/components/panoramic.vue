<template>    <div class="box">        <div id="canvas"></div>        <div class="btn" @click="changepPanoramic">关闭</div>        <img class="img" src="@/assets/icon/loading.gif" v-if="show">    </div></template><script>import * as THREE from 'three'import {OrbitControls} from 'three/examples/jsm/controls/OrbitControls'export default {    props:['name'],    data() {        return {            scene: null,            camera: null,            renderer: null,            show:true        }    },    mounted() {        this.initScene()    },    methods: {        changepPanoramic() {            this.$emit('changepPanoramic', {                type:0            })        },        initScene() {            this.scene = new THREE.Scene();            const geometry = new THREE.SphereBufferGeometry(400, 600, 40);            geometry.scale(-1, 1, 1);            new THREE.TextureLoader().load(process.env.BASE_URL + 'model/a' + this.name.split('-')[1] + '.jpg',map=>{                const material = new THREE.MeshBasicMaterial({                    map                });                var mesh = new THREE.Mesh(geometry, material);                this.scene.add(mesh);                this.initCanvas()            })        },        initCanvas() {            const canvas = document.getElementById('canvas')            const {clientWidth, clientHeight} = canvas            this.camera = new THREE.PerspectiveCamera(60, clientWidth / clientHeight, 1, 1000);            //设置相机位置，该参数位置比较重要            // 实际调试的时候，可以先随意给一个值，然后滚动鼠标中键，调整到合适的值，然后控制台打印相机位置坐标。            this.camera.position.set(4, -0.5, -1);            this.camera.lookAt(this.scene.position);            this.initRenderer()        },        initRenderer() {            const canvas = document.getElementById('canvas')            const {clientWidth, clientHeight} = canvas            this.renderer = new THREE.WebGLRenderer();            this.renderer.setSize(clientWidth, clientHeight);//设置渲染区域尺寸            this.renderer.setClearColor(0xb9d3ff, 0); //设置背景颜色            canvas.appendChild(this.renderer.domElement); //body元素中插入canvas对象            const controls = new OrbitControls(this.camera, this.renderer.domElement);            //监听鼠标事件，触发渲染函数，更新canvas画布渲染效果            controls.enablePan = false;            controls.enableZoom = false;            controls.addEventListener('change', () => {                this.render()            });            this.render()            this.show = false        },        render() {            this.renderer.render(this.scene, this.camera)        }    }}</script><style scoped>#canvas {    width: 100%;    height: 100%;}.box{    position: fixed;    right: 80px;    top: 100px;    width: 1450px;    height: calc(100vh - 120px);    background: rgba(0, 0, 0, 0.5);    z-index: 999;}.img{    position: absolute;    right: 50%;    top: 50%;    margin: -32px -32px 0 0;}.btn {    cursor: pointer;    position: absolute;    right: 20px;    top: 20px;    color: #fff;    width: 4em;    line-height: 2em;    background: #27f7e6;    text-align: center;    border-radius: 1em;}</style>